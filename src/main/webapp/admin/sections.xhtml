<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	 <h:head>
	 	<h:outputStylesheet name="primeicons/primeicons.css" library="primefaces"/>
	 </h:head>
	 <h:body>
	 	<h:form id="form">
		 	<div class="topMenu">
		 		<p:tabMenu activeIndex="0">
			 		<p:menuitem value="Sections" outcome="/admin/users.xhtml"></p:menuitem>
			        <p:menuitem value="Users" outcome="/admin/users.xhtml"></p:menuitem>
			        <p:menuitem value="Home" url="#{pageContext.contextPath}/home"></p:menuitem>
			    </p:tabMenu>
		 	</div>
		 	
		 	<div>
			 	<p:treeTable id="nodes" value="#{sectionService.root}" var="node" selectionMode="single"
		                     expanded="true" selection="#{sectionService.selectedNode}">
		            <p:column headerText="Name" expandedIcon="pi pi-folder-open" collapsedIcon="pi pi-folder">
		                <h:outputText value="#{node.name}"/>
		            </p:column>
		            <p:column headerText="ID">
		                <h:outputText value="#{node.id}"/>
		            </p:column>
		        </p:treeTable>
		        <div id="inputNode">
			        <p:outputLabel value="Node name: " />
			 		<p:inputText id="newNodeName" />
			 	</div>
		 	</div>
		 	
		 	
		 	<p:contextMenu for="nodes">
	            <p:menuitem value="Add section" onclick="PF('inputDlg').show()" />
	            <p:menuitem value="Delete section" update="nodes" action="#{sectionService.deleteNode}"/>
	        </p:contextMenu>
	        
	        <p:dialog for="nodes" header="Add section" widgetVar="inputDlg" minHeight="40" width="350" showEffect="fade">
			    <p class="p-m-0">Input section name:</p>
			    <p:inputText/>
			    <p:button value="OK" onclick="alert('ddd')"/>
			</p:dialog>

	 	</h:form>
	 </h:body>
</html>
